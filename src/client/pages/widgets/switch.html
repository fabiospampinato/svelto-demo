
<!-- SWITCH -->

<template name="switch">

  {{{widget.divider "Switch"}}}

  <div class="container bordered">
    {{{widget.switch color-on="secondary" color-off="gray"}}}
    {{{widget.switch color-on="secondary" color-off="gray"}}}
    {{{widget.switch color-on="green" color-off="red"}}}
    {{{widget.switch color-on="green" color-off="red"}}}
    {{{widget.switch color-on="teal" color-off="brown" checked=true}}}
  </div>

  {{{> switch_actions}}}

</template>

<!-- ACTIONS -->

<template name="switch_actions">

  {{{widget.divider "Actions"}}}

  <div class="multiple">
    {{{widget.action "Init" "api ()"}}}
    {{{widget.action "Get" "api_get ()"}}}
    {{{widget.action "Toggle" "api ( 'toggle' )"}}}
    {{{widget.action "Check" "api ( 'check' )"}}}
    {{{widget.action "Uncheck" "api ( 'uncheck' )"}}}
    {{{widget.action "Destroy" "api ( 'destroy' )"}}}
  </div>

  {{{widget.divider "State"}}}

  <div class="multiple actions">
    <div class="multiple joined">
      {{{widget.radioAction "Base" "validity" "set_validity ()" true}}}
      {{{widget.radioAction "Valid" "validity" "set_validity ( 'valid' )"}}}
      {{{widget.radioAction "Invalid" "validity" "set_validity ( 'invalid' )"}}}
    </div>
    <div class="multiple joined">
      {{{widget.radioAction "Enabled" "state" "api ( 'enable' )" true}}}
      {{{widget.radioAction "Disabled" "state" "api ( 'disable' )"}}}
    </div>
  </div>

  <script>
    function getValue ( name ) {
      return $('[name="' + name + '"]').val ();
    }

    function api_get () {
      var gets = _.map ( $('.switch'), function ( switchEle ) {
        return $(switchEle).switch ( 'get' );
      });
      $.toast ( gets.join ( ' - ' ) );
    }

    function api ( action ) {
      $('.switch').switch ( action );
    }

    function set_validity ( validity ) {
      var validities = ['valid', 'invalid'];
      for ( var i = 0, l = validities.length; i < l; i++ ) {
        $('.switch').removeClass ( validities[i] ).addClass ( validity );
      }
    }
  </script>

</template>
