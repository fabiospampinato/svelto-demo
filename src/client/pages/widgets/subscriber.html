
<!-- SUBSCRIBER -->

<template name="subscriber">

  {{{widget.divider "Subscriber"}}}

  {{{widget.subscriber url="/subscriber-update"}}}
  {{{widget.subscriber counter=10 url="/subscriber-update"}}}
  {{{widget.subscriber counter=10 state-url="/subscriber-state" url="/subscriber-update"}}}
  {{{widget.subscriber counter=10 state=true url="/subscriber-update"}}}
  {{{widget.subscriber counter=10 state=false url="/subscriber-update"}}}

  <div class="multiple">
    <div class="subscriber" data-url="/subscriber-update">
      <div class="toggle" data-text-on="Custom Subscribe" data-text-off="Custom Unsubscribe"></div>
      <div class="counter" data-counter="10"></div>
    </div>
    <div class="spacer"></div>
    <div class="subscriber" data-state="true" data-url="/subscriber-update">
      <div class="toggle" data-text-on="Custom Subscribe" data-text-off="Custom Unsubscribe"></div>
      <div class="counter" data-counter="10"></div>
    </div>
    <div class="spacer"></div>
    <div class="subscriber" data-state="false" data-url="/subscriber-update">
      <div class="toggle" data-text-on="Custom Subscribe" data-text-off="Custom Unsubscribe"></div>
      <div class="counter" data-counter="10"></div>
    </div>
    <div class="spacer"></div>
  </div>

  <div class="subscriber" data-url="/subscriber-update">
    <div class="toggle" data-icon="add"></div>
    <div class="counter" data-counter="10"></div>
  </div>

  <div class="subscriber multiple joined" data-url="/subscriber-update">
    <div class="toggle button bordered"></div>
    <div class="counter label compact bordered pointing-left" data-counter="10"></div>
  </div>

  {{{> subscriber_actions}}}

</template>

<!-- ACTIONS -->

<template name="subscriber_actions">

  {{{widget.divider "API"}}}

  <div class="multiple">
    {{{widget.action "Init" "api ()"}}}
    {{{widget.action "Get" "api_get ()"}}}
    <div class="multiple joined">
      <div class="label bordered gray pointing-right">Set</div>
      {{{widget.action "false" "api ( 'set', false )"}}}
      {{{widget.action "true" "api ( 'set', true )"}}}
      {{{widget.action "null" "api ( 'set', null )"}}}
    </div>
    {{{widget.action "Reset" "api ( 'reset' )"}}}
    {{{widget.action "Toggle" "api ( 'toggle' )"}}}
    {{{widget.action "Subscribe" "api ( 'subscribe' )"}}}
    {{{widget.action "Unsubscribe" "api ( 'unsubscribe' )"}}}
    {{{widget.action "Destroy" "api ( 'destroy' )"}}}
  </div>

  {{{widget.divider "Style"}}}

  <div class="multiple actions">
    {{{widget.checkAction "No icon" "toggle_class ( 'no-icon' )"}}}
    {{{widget.checkAction "No label" "toggle_class ( 'no-label' )"}}}
  </div>

  {{{widget.divider "State"}}}

  <div class="multiple joined actions">
    {{{widget.radioAction "Enabled" "state" "api ( 'enable' )" true}}}
    {{{widget.radioAction "Disabled" "state" "api ( 'disable' )"}}}
  </div>

  <script>
    function api ( action, extra ) {
      $('.subscriber').subscriber ( action, extra );
    }

    function api_get () {
      var result = $('.subscriber').first ().subscriber ( 'get' );
      $.toast ( JSON.stringify ( result ) );
    }

    function toggle_class ( name ) {
      $('.subscriber').toggleClass ( name );
    }
  </script>

</template>
