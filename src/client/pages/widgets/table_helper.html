
<!-- TABLE HELPER -->

<template name="table_helper">

  {{{widget.divider "Table"}}}

  <table class="table white celled">
    <thead>
      <tr>
        <th>First</th>
        <th>Second</th>
        <th>Third</th>
        <th>Fourth</th>
      </tr>
    </thead>
    <tbody>
      <tr class="table-row-empty">
        <td colspan="100%">Empty</td>
      </tr>
    </tbody>
  </table>

  {{{> table_helper_actions}}}

</template>

<!-- ACTIONS -->

<template name="table_helper_actions">

  {{{widget.divider "Actions"}}}

  {{{widget.action "Init" "table_init()"}}}
  <div class="multiple joined equal">
    <input name="id_add" placeholder="ID..." class="bordered">
    <input name="first_add" placeholder="First.." class="bordered">
    <input name="second_add" placeholder="Second..." class="bordered">
    <input name="third_add" placeholder="Third..." class="bordered">
    <input name="fourth_add" placeholder="Foruth..." class="bordered">
    {{{widget.action "Add" "table_row_add ()"}}}
  </div>
  <div class="multiple joined equal">
    <input name="id_update" placeholder="ID..." class="bordered">
    <input name="first_update" placeholder="First.." class="bordered">
    <input name="second_update" placeholder="Second..." class="bordered">
    <input name="third_update" placeholder="Third..." class="bordered">
    <input name="fourth_update" placeholder="Foruth..." class="bordered">
    {{{widget.action "Update" "table_row_update ()"}}}
  </div>
  <div class="multiple">
    <div class="multiple joined">
      <input name="id_remove" placeholder="ID..." class="bordered">
      {{{widget.action "Remove" "table_row_remove ()"}}}
    </div>
    {{{widget.action "Clear" "table_clear ()"}}}
  </div>

  {{{widget.divider "State"}}}

  <div class="multiple joined actions">
    {{{widget.radioAction "Enabled" "state" "api ( 'enable' )" true}}}
    {{{widget.radioAction "Disabled" "state" "api ( 'disable' )"}}}
  </div>

  <script>
    var tableHelper;

    function table_init () {
      tableHelper = $('table').tableHelper('instance');
    }

    function table_row_add () {
      if ( tableHelper ) {
        var id = $('input[name="id_add"]').val (),
        first = $('input[name="first_add"]').val (),
        second = $('input[name="second_add"]').val (),
        third = $('input[name="third_add"]').val (),
        fourth = $('input[name="fourth_add"]').val ();
        tableHelper.add(id, first, second, third, fourth);
      } else {
        $.toast ( 'You should init the tableHelper before' );
      }
    }

    function table_row_update () {
      if ( tableHelper ) {
        var id = $('input[name="id_update"]').val (),
        first = $('input[name="first_update"]').val (),
        second = $('input[name="second_update"]').val (),
        third = $('input[name="third_update"]').val (),
        fourth = $('input[name="fourth_update"]').val ();
        tableHelper.update(id, first, second, third, fourth);
      } else {
        $.toast ( 'You should init the tableHelper before' );
      }
    }

    function table_row_remove () {
      if ( tableHelper ) {
        var id = $('input[name="id_remove"]').val ();
        tableHelper.remove(id);
      } else {
        $.toast ( 'You should init the tableHelper before' );
      }
    }

    function table_clear () {
      if ( tableHelper ) {
        tableHelper.clear();
      } else {
        $.toast ( 'You should init the tableHelper before' );
      }
    }

    function api ( action ) {
      $('table.table').tableHelper ( action );
    }
  </script>

</template>
