
<!-- REMOTE POPOVER -->

<template name="remote_popover">

  {{{widget.divider "Remote Popover"}}}

  <div class="multiple">
    <div class="button bordered remote-popover-trigger" data-url="/remote-popover-basic">Basic</div>
    <div class="button bordered remote-popover-trigger" data-url="/remote-popover-body" data-body='{"color": "primary"}'>Body (Primary)</div>
    <div class="button bordered remote-popover-trigger" data-url="/remote-popover-body" data-body='{"color": "secondary"}'>Body (Secondary)</div> <!-- //FIXME: Not working if triggered after `Body (Primary)` -->
    <div class="button bordered remote-popover-trigger" data-url="/remote-popover-fullscreen">Fullscreen</div>
    <div class="button bordered remote-popover-trigger" data-url="/remote-popover-error">Error</div>
  </div>

  {{{widget.divider "Helper"}}}

  <div class="multiple">
    <div class="helper anchor button bordered">Anchor</div>
    <div class="helper point button bordered">Point</div>
  </div>

  {{{> remote_popover_actions}}}

</template>

<!-- ACTIONS -->

<template name="remote_popover_actions">

  {{{widget.divider "API"}}}

  <div class="multiple actions">
    {{{widget.action "Init" "api ()"}}}
    {{{widget.action "Destroy" "api ( 'destroy' )"}}}
  </div>

  <script>
    function api ( action ) {
      $('.remote-popover-trigger').remotePopoverTrigger ( action );
    }

    var $helperAnchor = $('.helper.anchor'),
        $helperPoint = $('.helper.point');

    $helperAnchor.on ( Svelto.Pointer.tap, function () {
      $.remotePopover ( { url: '/remote-popover-basic' }, $helperAnchor );
    });

    $helperPoint.on ( Svelto.Pointer.tap, function () {
      $.remotePopover ( { url: '/remote-popover-basic' }, { x: 200, y: 200 } );
    });
  </script>

</template>
